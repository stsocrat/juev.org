<!DOCTYPE html>
<!--
    You can email me with PGP-key: 0xE8ADA1A55B3CA4EA
-->
<html lang="ru">
<head>
  <link rel="dns-prefetch" href="https://static.juev.org">
  <meta charset="utf-8">
  <title>Валидация кнопок Twitter и Google Plus</title>
  <meta name="description" content="Можно ли сделать так, чтобы страницы с кнопками социальных сетей проходили w3c-валидацию? Как оказалось – можно!1-й способКак не странно, но данный способ заключается в отказе от xhtml в пользу htm...">
  <meta name="yandex-verification" content="59bb4b98872e096b" />
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- end -->
  <link rel="canonical" href="https://www.juev.org/2012/04/14/w3c-validate/">
  <link rel="shortcut icon" href="https://static.juev.org/favicon.ico">
  <link rel="apple-touch-icon" href="https://www.juev.org/apple-touch-icon.png">
  <link rel="alternate" type="application/atom+xml" title="ATOM Feed" href="https://www.juev.org/atom.xml">
  <link rel="stylesheet" type="text/css" href="https://static.juev.org/assets/css/master.6bbfa8b61.css">
  <link rel="prev" href="https://www.juev.org/2012/04/13/openwrt/">
  <link rel="next" href="https://www.juev.org/2012/04/21/tunnel/">
  <!-- og:meta -->
  <meta content="Валидация кнопок Twitter и Google Plus" property="og:title">
  <meta content="Можно ли сделать так, чтобы страницы с кнопками социальных сетей проходили w3c-валидацию? Как оказалось – можно!1-й способКак не странно, но данный способ заключается в отказе от xhtml в пользу htm..." property="og:description">
  <meta content="https://www.juev.org/2012/04/14/w3c-validate/" property="og:url">
  <meta content="2012-04-14T12:57:00+04:00" property="article:published_time">
  <meta content="webdesign" property="article:tag">
  <meta content="html" property="article:tag">
  <meta content="jquery" property="article:tag">
  <meta content="twitter" property="article:tag">
  <meta content="google" property="article:tag">
  <meta content="https://static.juev.org/images/calvin.png" property="og:image">
  <meta content="https://denis.evsyukov.org" property="article:author">
  <!-- end og:meta  -->
  <!-- twitter card -->
  <meta content="summary_large_image" name="twitter:card">
  <meta content="Валидация кнопок Twitter и Google Plus" name="twitter:title">
  <meta content="Можно ли сделать так, чтобы страницы с кнопками социальных сетей проходили w3c-валидацию? Как оказалось – можно!1-й способКак не странно, но данный способ заключается в отказе от xhtml в пользу htm..." property="twitter:description">
  <meta content="https://www.juev.org/2012/04/14/w3c-validate/" name="twitter:url">
  <meta content="https://static.juev.org/images/calvin.png" property="twitter:image:src">
  <!-- end twitter card -->
</head>
<body class="wide">
  <div class="navigation">
    <div class="width-fix">
        <a href="https://www.juev.org/" id="home" rel="nofollow"></a>
      <ul>
        <li><a href="https://www.juev.org/articles.html" rel="nofollow">Статьи</a></li>
        <li>|</li>
        <li><a href="https://denis.evsyukov.org">Об авторе</a></li>
      </ul>
    </div>
  </div>
  <div class="primary-content width-fix">
    <div class="entry"><h1 class="title">Валидация кнопок Twitter и Google Plus</h1>
<div id="metainfo">
<span class="date">14 April 2012</span>
<span class="tags"><a href="https://www.juev.org/tags/#webdesign" title="View posts tagged with &quot;webdesign&quot;" rel="nofollow">#webdesign</a><a href="https://www.juev.org/tags/#html" title="View posts tagged with &quot;html&quot;" rel="nofollow">#html</a><a href="https://www.juev.org/tags/#jquery" title="View posts tagged with &quot;jquery&quot;" rel="nofollow">#jquery</a><a href="https://www.juev.org/tags/#twitter" title="View posts tagged with &quot;twitter&quot;" rel="nofollow">#twitter</a><a href="https://www.juev.org/tags/#google" title="View posts tagged with &quot;google&quot;" rel="nofollow">#google</a></span>
</div>
<div class="post"><p>Можно ли сделать так, чтобы страницы с кнопками социальных сетей проходили w3c-валидацию? Как оказалось – можно!</p>

<h3 id="1-й-способ">1-й способ</h3>

<p>Как не странно, но данный способ заключается в отказе от xhtml в пользу html5. Последний, еще не завершенный, стандарт языка html позволяет использовать любые параметры размещаемых элементов. Поэтому все кнопки социальных сетей будут проходить валидацию. Но! При этом мы будем получать предупреждение об использовании html5, который все еще находиться в режиме формирования и наполнения.</p>

<p>Способ рабочий, но ведь не для этого мы затевали весь сыр-бор?</p>

<h3 id="2-й-способ">2-й способ</h3>

<p>Данный способ работает только для кнопок twitter. И заключается он в передаче параметров в самом адресе кнопки.</p>

<p>К примеру, был следующий код:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;a href="https://twitter.com/share" class="twitter-share-button" data-via="Juev" data-lang="en" data-count="none"&gt;Tweet&lt;/a&gt;
</code></pre></div></div>

<p>В данном примере используются параметры <code class="highlighter-rouge">data-via</code>, <code class="highlighter-rouge">data-lang</code> и <code class="highlighter-rouge">data-count</code>. Именно они не позволят проходить валидацию страницы. Переместим данные параметры в адрес и получим следующий код:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;a href="https://twitter.com/share?lang=en&amp;amp;count=none&amp;amp;via=Juev" class="twitter-share-button"&gt;Tweet&lt;/a&gt;
</code></pre></div></div>

<p>И строка теперь стала короче и все необходимые параметры переданы и при этом страница теперь проходит валидацию. Единственно, сделать нечто подобное с кнопкой google plus не удается, так как там не используется в явном виде адрес страницы.</p>

<h3 id="3-й-способ">3-й способ</h3>

<p>Данный способ универсальный и использует javascript. Естественно, что если у пользователя js отключен, то и кнопки он не увидит.</p>

<p>На странице в нужном месте располагаем элемент div с заданным id:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div id="gplusone"&gt;&lt;/div&gt;
</code></pre></div></div>

<p>После чего в коде javascript задаем следующее:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var campisi = document.createElement('g:plusone'); 
campisi.setAttribute("align","left");
campisi.setAttribute("size","medium");
campisi.setAttribute("annotation","none");
document.getElementById("gplusone").appendChild(campisi);
</code></pre></div></div>

<p>Если код размещается не в отдельном файле, а непосредственно в коде страницы, то необходимо его заключить между тегами:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;script type="text/javascript"&gt;&lt;/script&gt;
</code></pre></div></div>

<p>Аналогичным же образом задаются параметры у кнопки twitter.</p>

<p>Таким образом есть несколько вариантов решения проблемы с валидацией страниц, на которых размещаются кнопки социальных сетей. Выбирайте любой!</p>
</div>
<div class="meta"><div class="pagination">
 <p class="previous">Previous post: <a rel="prev" href="https://www.juev.org/2012/04/13/openwrt/" title="View TL-WR1043ND установка OpenWRT">TL-WR1043ND установка OpenWRT</a></p>
 <p class="next">Next post: <a rel="next" href="https://www.juev.org/2012/04/21/tunnel/" title="View Шифрование последней мили">Шифрование последней мили</a></p></div>
</div>
</div>
  </div><!-- noindex -->
  <div class="footer">
    <div class="width-fix">
      <p><a href="https://www.juev.org/articles.html" rel="nofollow">Список статей</a> :: <a href="https://www.juev.org/recommendations/" rel="nofollow">Рекомендации</a> :: <a href="https://www.juev.org/atom.xml" rel="nofollow">RSS</a></p>
      <p>&copy;&nbsp;<a href="https://denis.evsyukov.org">Denis Evsyukov</a>,&nbsp;2008&ndash;2019&nbsp;Contact me via <script type="text/javascript">document.write("<n uers=\"znvygb:qravf\100riflhxbi\056bet\">Rznvy</n>".replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);}));</script>,&nbsp;
      <a href="https://twitter.com/#!/Juev" rel="nofollow">twitter</a> or&nbsp;
      <a href="https://github.com/Juev" rel="nofollow">github</a></p>
    </div>
  </div>
  <script async src="https://static.juev.org/assets/js/master.a08e4d4f.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-26480484-5', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
