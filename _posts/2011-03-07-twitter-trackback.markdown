---
layout: post
title: Twitter trackback
description: Сегодня занимался тем, что работал над оформлением сайта. Изменил немного
  стиль, сделал его более спокойным и приспособленным для чтения. Пытался реализовать
  twitter trackback на страницах сайта по методу Александра Соловьева. Подключил jquery,
  скопировал необходимые файлы, прописал их в заголовке html-документа.
keywords: twitter,webdesign,jquery,plugins
date: 2011-03-07 00:00
tags:
- twitter
- webdesign
- jquery
---
Сегодня занимался тем, что работал над оформлением сайта. Изменил немного стиль, сделал
его более спокойным и приспособленным для чтения. Пытался реализовать twitter trackback на
страницах сайта по методу [Александра Соловьева][1]. Подключил `jquery`, скопировал
необходимые файлы, прописал их в заголовке html-документа. Просматриваю, и не вижу
результата.

Мучился довольно долго, успел и письмо написать Александру с вопросом, как у него
организована работа с трекбеками сайта. И чуть позже опубликовал очередную статью и бросил
ссылку на нее в twitter. Тут же на странице появился trackback. Проверил в веб-интерфейсе
самого twitter, поиск выдает только эту ссылку, одну единственную. Понял, что нужно искать
другие решения.

Довольно быстро нашел [Twitter Trackbacks Widget - A jQuery Plugin][2]. Подключил,
убедился в том, что работает и стал приводить в порядок (занялся офорлением вывода).

Использовать расширение довольно просто. Достаточно добавить в заголовок документа строки:

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://twitter-trackbacks-widget.googlecode.com/files/jquery.twittertrackbacks-1.0.min.js"></script>

И затем в тем месте, где будут располагаться реплаи добавить строку:

    <div class="twitter-trackbacks">loading..</div>

В данном случае показываться будет только один trackback, который с течением определенного
времени будем сменяться другим, если он есть. Если же необходимо показать список из
replay, то необходимо дополнительно задавать определенные параметры, которые перечислены
на странице проекта [Options][3].

Для себя я выбрал следующие значения:

    <script type="text/javascript">
        $(document).ready(function(){
                $('div.twitter-trackbacks').twitterTrackbacks({
                        header:'<h2>Twitter trackback</h2>'
                        ,url:'http://www.juev.ru{{ page.url }}'
                        ,n:8
                        ,show_n:0
                        ,inf_tip:0
                        ,show_avatar:0
                        ,show_author:1
                        ,info:''
                });
        });
    </script>

Кода минимум, и все работает. Код `css` для trackback, которые я прописал у себя, приводить не буду, так как взял его из кода
примеров, приведенных на официальной странице расширения.

Да, теперь пользователям приходиться дополнительно загружать библиотеку `jquery`, но она подгружается только один раз и в
дальнейшем используется уже из кеша браузера. Поэтому это не так сильно сказывается на скорость загрузки страниц сайта.

Начинаю понемногу формировать файл Rakefile, с помощью которого можно автоматизировать многие вещи, используемые в `jekyll`. И
наткнулся на один [snippet][4], в котором показывается, как можно упростить работу с изображениями в статьях. При этом приводиться
пример загрузки файлов изображений на `amazon s3`. Подобным же образом я планирую организовать работу со своей медиа-библиотекой.

Работа над сайтом движется, и пока я думаю, какой сервер использовать для размещения своих сайтов? Уже почти все проекты у меня
статические, особых требований к хостингу нет. И сейчас рассматриваю следующие варианты:

1. Остаться на Linode. В данном случае возникает только вопрос целесообразности. Стоит ли
использовать отдельный сервер для размещения статических сайтов?
2. Использовать хостинг в Англии. Совсем недавно оформил заказ на хостинг в Великобритании. Цены очень демократичные,
техническая поддержка просто на высоте, думаю отдельно описать про этот хостинг чуть позже. Пока же наблюдаю за стабильностью
работы.
3. Использовать сервера [github.com](http://pages.github.com "GitHub Pages"). Об этом я уже писал в статьях
[GitHub.com как хостинг сайтов](/2010/10/17/github-com-kak-xosting-sajtov/ "GitHub.com как хостинг сайтов") и
[Необычный хостинг](/2010/11/04/neobychnyj-xosting/ "Необычный хостинг"). Тут возможны два варианта
использования: бесплатный, при котором репозитории с кодом сайтов будут открыты всем, и платный (7$ за 5 приватных
репозиториев). 

Что использовать и что будет оптимально использовать именно под те задачи, что приходиться использовать сейчас? Пока думаю.

Да, и при использовании `jekyll` обратил внимание на то, что писать статьи стало гораздо проще. Ввиду того, что в качестве
исходного текста используется `markdown`, по сути обычный текст. Никаких ограничений для творчества!

[1]: http://solovyov.net/blog/ "solovyov.net: blog in Russian"
[2]: http://www.moretechtips.net/2009/11/twitter-trackbacks-widget-jquery-plugin.html 
  "Twitter Trackbacks Widget"
[3]: http://code.google.com/p/twitter-trackbacks-widget/wiki/Options 
  "Options"
[4]:  https://gist.github.com/791030 
  "dirty hack of a rakefile I use to upload new images to cloudfront for jekyll blog posts"
