---
layout: post
title: TL-WR1043ND установка OpenWRT
description: Установка и удаление прошивки openwrt на роутере TL-WR1043ND
keywords: роутер, router, openwrt, tp-link, TL-WR1043ND
gplus: https://plus.google.com/u/0/116661482374124481456/posts/EF3eBqBnVFw
published: true
date: 2012-04-13 17:31
tags:
- tips
- openwrt
- tplink
---

Последняя версия официальной прошивки для TL-WR1043ND стала периодически зависать. Решил в очередной раз воспользоваться альтернативными прошивками, а так как DD-WRT я уже пробовал и меня она не устроила, решил попробовать OpenWRT.

## Установка OpenWRT и проблемы

Установка OpenWRT проста, загружаем к себе на компьютер файл [stable image](http://downloads.openwrt.org/backfire/10.03.1/ar71xx/openwrt-ar71xx-tl-wr1043nd-v1-squashfs-factory.bin), и затем, используя веб-интерфейс официальной прошивки TP-Link, проводим обновление.

Сразу после обновления я столкнулся с тем, что WAN-интерфейс на роутере не поднимался. И светодиод на роутере и статистика указывали на то, что соединение с провайдером отсутствует. Довольно долго мучился с настройками и в веб-интерфейсе и в ssh, но все было безрезультатно.

После того, как прошелся поиском в сети интернет, наткнулся на обсуждение [TP-Link WR1043ND с OpenWRT нет линка на WAN](http://www.linux.org.ru/forum/linux-hardware/7143273 "TP-Link WR1043ND с OpenWRT нет линка на WAN"), в котором указывалось на то, что проблема заключается в новом загрузчике, который отключает wan-интерфейс. Как вариант решения, предлагается множественная перепрошивка устройства, сначала на официальную прошивку, затем на немецкую прошивку со старым загрузчиком, и только после этого вновь ставилась прошивка openwrt. 

Проделывать данную операцию я не решился. Мне всего-то нужно было избавиться от зависаний устройства. Решил просто вернуть официальную прошивку TP-Link. Причем, как оказалось, сделать это намного проще, чем при использовании [DD-WRT](/2011/10/07/wr1043nd/ "TL-WR1043ND откат DD-WRT на стандартную прошивку"). 

## Удаление OpenWRT

На странице [TP-Link TL-WR1043ND](http://www.tp-link.com/en/support/download/?model=TL-WR1043ND "TL-WR1043ND") скачал последнюю версию прошивки от 10 февраля 2012 года. До этого у меня, кстати, стояла руссифицированная версия прошивки, которую повторно на официальном сайте я так не нашел, видимо убрали из-за недочетов.

После того, как файл прошивки оказался на компьютере, загружаем его на устройство через веб-интерфейс OpenWRT. Роутер автоматически перезагружается, но уже с официальной прошивкой. Перед прошивкой рекомендуется выбирать пункт -- не сохранять настройки, во избежание конфликтов.

## Выводы

Прошивка OpenWRT сама по себе довольно интересна, так как предоставляет все возможности по настройке роутера. Но для ее использования необходимо обладать определенными знаниями в сфере настройки и использования linux-систем.

Перед тем как ставить прошивку на свое устройство, необходимо основательно пройтись по ресурсам интернет в поисках возможных проблем. И обращать внимание не на возможности и отзывы пользователей о удачном использовании, а читать по возможности о возникших проблемах. Только это позволит оценить, стоит ли использовать OpenWRT на своем роутере или нет.
