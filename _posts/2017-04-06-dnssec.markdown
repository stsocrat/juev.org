---
layout: post
title: "Проблемы использования DNSSEC"
date: 2017-04-06 15:42
image:
tags:
  - web
  - vps
  - services
---

Не так давно писал про то, что перешел на использование [Cloudflare](https://www.juev.org/2017/02/19/cloudflare/ "Cloudflare") и все в нем мне нравилось. И DNS хоститься, и CDN предоставляется, и в добавок еще целый ряд сервисов, расширяющих возможности использования домена. С учетом того, что все это дело предоставляется бесплатно, становится даже странно, как такое может быть?

Чуть позже провел миграцию сайта на [Netlify](https://www.juev.org/2017/03/12/netlify/ "Netlify как хостинг статических сайтов"), и спустя некоторое время обратил внимание на то, что как-то странно он у меня работает. И миграция доменной зоны проходила очень долго, и обновление самого сайта происходит с задержкой. А спустя некоторое время стал получать письма от поисковых серверов и сервисов мониторинга о том, что сайт недоступен или что dns сконфигурирован некорректно. Никак не мог понять в чем дело, в итоге решился мигрировать снова на свой сервер, как проверенное уже решение.

Во время миграции необходимо было снова генерировать сертификат через Letencrypt. И вот тут у меня не проходила верификация доменнов. Просто получал сообщение о том, что домен ни к чему не привязан. Прошелся поиском по форумам поддержки Letsencrypt, и обратил внимание на то, что подобные ошибки возникают ввиду того, что на доменах включен DNSSEC. Тут вспомнил, что при использовании Cloudflare я активировал эту возможность. Отключаю DNSSEC у своего регистратора, и буквально через несколько минут верификация домена прошла нормально.

В итоге все возникшие проблемы удалось решить, достаточно было только отключить DNSSEC, но раз уже провел миграцию на свой сервер, решил остаться пока на нем. Единственно, на этот раз перешел с использования Debian к FreeBSD. И пока меня все устраивает.

Если вдруг ранее активировали использовани DNSSEC на своем домене, будьте аккуратны.
