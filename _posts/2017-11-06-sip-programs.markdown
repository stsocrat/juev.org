---
layout: post
title: "SIP для звонков"
date: 2017-11-06 17:44
image: 
tags: 
  - sip
  - web
---
Довольно давно использую для звонков в другие регионы SIP-аккаунт от [Sipnet](https://sipnet.ru "Sipnet"). Получается довольно дешево и качество звонка выше, чем при простом звонке с телефона на телефон. Правда в последнее время тарифы мобильных операторов сводят актуальность Sipnet на ноль, а повсевместное внедрение программ типа WhatsApp или Telegram, в которых уже присутствует функция звонков делает эту технологию все менее популярной.

Со своими родными так же используем для общения и ватсап и телеграм, но порой возникают проблемы со связью. Когда интернет-канал слабый, наблюдаются искажения звука, периоды тишины либо дикие запаздывания звука. В эти моменты общаться становится невозможным.

В качестве эксперимента долгое время тестировал SIP решения для связи между двумя абонентами. SIP-прокол сам по себе рассчитан на передачу звука по каналам с небольшой пропускной способностью. И я рассчитывал получить более высокое качество связи на тех же каналах.

Примерно за полгода перепробовал целый ряд программ, как для iOS, так и для Android. Могу сказать только одно: нет ни одного сколько-нибудь приемлемого решения для использования SIP-протокола для общения внутри сети. Чего я только не перепробовал, но постоянно сталкивался с целым рядом проблем.

### Linphone

Интересный продукт в плане того, что он полностью открытый и его исходные коды размещаются на Github, но когда я попробовал его использовать, он "испоганил" несколько моих контактов в телефонной книге. После чего продолжать эксперименты с ним мне расхотелось.

### Bria Mobile 

С некоторых пор Bria перешли на модель работы по подписке, и теперь их клиент предоставляет все возможности сразу. И кодек G.729 Annex A, который эффективно использовать в сотовых сетях. И видеозвонки, причем с HD качеством. Ну все вроде замечательно, и стоимость небольшая, год использования сопоставим со стоимостью одного только кодека. Но батарейку жрет с неистовой силой.

Да, у них в beta-режиме появилась возможность использования push-сервиса, который значительно снижает затраты энергии, но при этом сервис умеет работать только с сервисами, работающими по UDP-протоколу и только с ними. 

### GroundWire

Есть еще один клиент от Acrobits, под названием Softphone, именно с него я начинал свое знакомство с программами для SIP. Но довольно быстро его вернул и приобрел GroundWire. Все дело в том, что их стоимость вполне сопоставима, только у GroundWire возможностей побольше. Плюс они предоставляют свой собственный сервис push-уведомлений, который работает со всеми протоколами и значительно экономит батарейку. Но и тут возникли проблемы, при использовании их push-уведомлений звонок проходит нормально, но когда поднимаешь трубку, слышишь только тишину. Переключившись на стандартный режим работы, когда программа висит в фоне, входящие звонки начинают работать нормально, только вот заряд батареи начинает уходить довольно быстро.

### Zoiper

Еще один герой бесплатного фронта. Популярен из-за своей стоимости. И хорошо использовать для звонки на обычные телефоны, но вот при звонках на внутренние номера столкнулся с проблемой. Набираешь, к примеру, номер 00000, тестовый номер Sipnet, а оказываешься на номере 000000. И куда этот дополнительный номер добавляется, так и не понял, в начало или в конец. В телефонной книге у меня несколько человек со внутренними номерами Sipnet, и никому мне так и не удалось дозвониться из-за этого изменения номера. Удалил, так и не протестировав клиент на бою.

Это все очень странно. Есть отличная технология по передаче голоса по каналам с низкой пропускной способностью. Качество звука в них довольно высокое, намного выше, чем в других сервисах даже при более высокой пропускной способности каналов. Но до сих пор нет ни одной нормальной программы, чтобы можно было бы эффективно звонить по внутренним номерам. Ни одной программы. В каждой есть несколько недостатков, делающих использование SIP-протокола просто невозможным. Печально.

